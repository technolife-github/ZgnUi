"use strict";(self.webpackChunkZgnUI=self.webpackChunkZgnUI||[]).push([[879],{5879:(ne,x,d)=>{d.r(x),d.d(x,{ManagementModule:()=>ie});var h=d(9808),w=d(5226),C=d.n(w),e=d(1223),f=d(2199),m=d(9019),y=d(520);let S=(()=>{class n{constructor(t){this.httpClient=t,this.apiUrl=m.N.apiUrl}getAll(){return this.httpClient.get(`${this.apiUrl}Stations/GetAll`)}GetAllByLoginUser(){return this.httpClient.get(`${this.apiUrl}Stations/GetAllByLoginUser`)}getById(t){return this.httpClient.get(`${this.apiUrl}Stations/GetById/${t}`)}update(t){return this.httpClient.put(`${this.apiUrl}Stations/Update`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b=(()=>{class n{constructor(t){this.httpClient=t,this.apiUrl=m.N.apiUrl}add(t){return this.httpClient.post(`${this.apiUrl}Transactions/Add`,t)}getById(t){return this.httpClient.get(`${this.apiUrl}Transactions/GetById/${t}`)}start(t){return this.httpClient.post(`${this.apiUrl}Transactions/Start`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=d(4040),l=d(2382);function T(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",4),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw().setSelected(r)}),e.TgZ(1,"span",5),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=a.index,i=e.oxw();e.Akn(i.getStyle(t)),e.Tol("list-item "+i.getClassValue(t)),e.xp6(2),e.Oqu(i.getTitle(t)),e.xp6(1),e.hij(" ",i.getName(t)," ")}}const _=function(){return[]};let v=(()=>{class n{constructor(){this.selectedNodeEmitter=new e.vpe}ngOnInit(){}getStyle(t){var i,o;Array.from(document.getElementsByClassName("layout-content"))[0].style.width=104*this.station.ColumnLen+"px";let s=parseInt(""+t%this.station.ColumnLen),c=[].constructor(null!==(o=null!==(i=this.station.ColumnLen)&&void 0!==i?i:0*this.station.RowLen)&&void 0!==o?o:0).length-parseInt(""+t/this.station.ColumnLen),p=`--zindx: ${s}; --zindy: ${c}; `;return s=parseInt(""+t%this.station.ColumnLen),c=parseInt(""+t/this.station.ColumnLen),p=this.station.StationNodes.filter(u=>u.ColPosition-1==s&&u.RowPosition-1==c).length>0?p:"opacity:0;",p}getClassValue(t){let i=parseInt(""+t%this.station.ColumnLen),o=parseInt(""+t/this.station.ColumnLen),r=this.station.StationNodes.filter(s=>s.ColPosition-1==i&&s.RowPosition-1==o).length>0?"":" empty";return null!=this.selectedNode&&(r+=this.station.StationNodes.filter(s=>s.ColPosition-1==i&&s.RowPosition-1==o&&s.NodeId==this.selectedNode.NodeId).length>0?" active":""),r}getTitle(t){let i=parseInt(""+t%this.station.ColumnLen),o=parseInt(""+t/this.station.ColumnLen),r="";return this.station.StationNodes.filter(s=>s.ColPosition-1==i&&s.RowPosition-1==o).forEach(s=>{r=s.NodeId}),r}getName(t){let i=parseInt(""+t%this.station.ColumnLen),o=parseInt(""+t/this.station.ColumnLen),r="Bo\u015f";return this.station.StationNodes.filter(s=>s.ColPosition-1==i&&s.RowPosition-1==o).forEach(s=>{var c,p,u=null!==(p=null===(c=s.NodeId)||void 0===c?void 0:c.split("_"))&&void 0!==p?p:[];u.length>0&&(r=u.length>1?`${u[0]}_${u[u.length-1]}`:s.NodeId)}),r}setSelected(t){let i=parseInt(""+t%this.station.ColumnLen),o=parseInt(""+t/this.station.ColumnLen);this.station.StationNodes.filter(r=>r.ColPosition-1==i&&r.RowPosition-1==o).forEach(r=>{this.selectedNode=r,this.selectedNodeEmitter.emit(r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-select-station"]],inputs:{station:"station"},outputs:{selectedNodeEmitter:"selectedNodeEmitter"},decls:4,vars:2,consts:[[1,"ground"],[1,"layout-content"],[1,"layout-row"],["data-box","item",3,"style","class","click",4,"ngFor","ngForOf"],["data-box","item",3,"click"],[1,"item-title"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,T,4,6,"a",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",e.DdM(1,_).constructor(i.station.ColumnLen*i.station.RowLen)))},directives:[h.sg],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@1,800&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:wght@300;400&display=swap";*[_ngcontent-%COMP%]:root{--zindx: 0;--zindy: 0}.list-item[_ngcontent-%COMP%]{background:#343a40;color:#f1f1f1;text-align:center;height:5em;width:8em;vertical-align:middle;line-height:5em;border-bottom:1px solid #060606;position:relative;display:block;text-decoration:none;box-shadow:-4em 1.5em #e1e1e1;transition:all .25s linear;font-family:Roboto,sans-serif;font-weight:700}.list-item[_ngcontent-%COMP%]:not(.empty):hover{background:#ffc107;color:#343a40;transform:translate(1.8em,-1.8em);transition:all .25s linear;box-shadow:-4em 4em #e1e1e1}.list-item[_ngcontent-%COMP%]:not(.empty):hover:before, .list-item[_ngcontent-%COMP%]:not(.empty):hover:after, .list-item[_ngcontent-%COMP%]:not(.empty):focus:before, .list-item[_ngcontent-%COMP%]:not(.empty):focus:after{transition:all .25s linear}.list-item[_ngcontent-%COMP%]:not(.empty):focus:before, .list-item[_ngcontent-%COMP%]:not(.empty):hover:before{background:#ff9800;width:2em;top:1em;left:-2em}.list-item[_ngcontent-%COMP%]:not(.empty):focus:after, .list-item[_ngcontent-%COMP%]:not(.empty):hover:after{background:#ff9800;width:2em;bottom:-5em;left:2em;height:8em}.list-item[_ngcontent-%COMP%]:not(.empty).active{background:#ffc107;color:#343a40;transform:translate(1.8em,-1.8em);transition:all .25s linear;box-shadow:-4em 4em #e1e1e1}.list-item[_ngcontent-%COMP%]:not(.empty).active:before, .list-item[_ngcontent-%COMP%]:not(.empty).active:after{transition:all .25s linear}.list-item[_ngcontent-%COMP%]:not(.empty).active:before{background:#ff9800;width:2em;top:1em;left:-2em}.list-item[_ngcontent-%COMP%]:not(.empty).active:after{background:#ff9800;width:2em;bottom:-5em;left:2em;height:8em}.list-item[_ngcontent-%COMP%]:not(.empty):before, .list-item[_ngcontent-%COMP%]:not(.empty):after{content:"";position:absolute;transition:all .25s linear;width:1em}.list-item[_ngcontent-%COMP%]:not(.empty):after{height:8em;background:#141e28;bottom:-4.5em;left:3em;transform:rotate(90deg) skew(0,45deg)}.list-item[_ngcontent-%COMP%]:not(.empty):before{height:5em;background:#404951;top:.5em;left:-1em;transform:skewY(-45deg)}.layout-content[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.layout-way[_ngcontent-%COMP%]{height:5em;width:8em}.layout-way[_ngcontent-%COMP%]:before{position:absolute;content:"";width:5px;height:100%}.layout-content[_ngcontent-%COMP%] > .layout-row[_ngcontent-%COMP%]:not(:nth-child(1)){margin-bottom:-29px}.layout-content[_ngcontent-%COMP%] > .layout-row[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex;justify-content:left}.layout-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:calc(1000 - calc(10 * var(--zindy)) - var(--zindx))}.ground[_ngcontent-%COMP%]{position:relative;padding:50px;display:inline-block}.item-title[_ngcontent-%COMP%]{position:absolute;display:none;top:-120%;left:50%;min-width:110px;transform:translate(-50%);color:#fff;background-color:#0606066e;border-radius:3px;padding:0 30px;font-weight:400}.item-title[_ngcontent-%COMP%]:before{content:"";background-color:#0606066e;position:absolute;width:12px;height:12px;bottom:-12px;rotate:180deg;left:50%;transform:translate(50%);border-radius:3px;clip-path:polygon(50% 0%,0% 100%,100% 100%)}.list-item[_ngcontent-%COMP%]:hover > .item-title[_ngcontent-%COMP%], .list-item[_ngcontent-%COMP%]:focus > .item-title[_ngcontent-%COMP%]{display:inline}.list-item.empty[_ngcontent-%COMP%]:not(:hover):before, .list-item.empty[_ngcontent-%COMP%]:not(:hover):after{height:0em}.list-item.empty[_ngcontent-%COMP%]{background-color:#939393;box-shadow:-2em .5em #e1e1e1;transform:translate(-.3em,.3em);border-bottom:1px solid #848282;transition:all .25s linear}']}),n})();function U(n,a){if(1&n&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",a.index),e.xp6(1),e.hij(" ",t.Name," ")}}function A(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-station",15),e.NdJ("selectedNodeEmitter",function(o){return e.CHM(t),e.oxw().setSelectedStationNode(o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("station",t.stations[t.selectedStationIndex])}}let N=(()=>{class n{constructor(t,i,o,r,s){this.messagerService=t,this.stationService=i,this.transactionService=o,this.activatedRoute=r,this.router=s,this.stations=[],this.description=""}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.getTransaction(t.id)}),this.getStations()}getTransaction(t){this.transactionService.getById(t).subscribe(i=>{this.transaction=i.Data})}getStations(){this.stationService.GetAllByLoginUser().subscribe(t=>{let i="\u0130ADE"==this.transaction.TransactionType?"\u0130ade Teslim Noktas\u0131":"Alma Noktas\u0131";this.stations=t.Data.filter(o=>o.Type==i)},t=>this.messagerService.error(t))}setSelectedStationNode(t){this.selectedNode=t}clearStationNode(){this.selectedNode=void 0,console.log(this.selectedNode)}addTransaction(){null!=this.stations[this.selectedStationIndex]?null!=this.selectedNode?C().fire({title:"<strong>\u0130\u015flem Detaylar\u0131</strong>",icon:"info",html:`<table style="text-align:left">\n        <tr>\n          <th>${"\u0130ADE"==this.transaction.TransactionType?"Teslimat":"B\u0131rakma"} Noktas\u0131</th>\n          <td>${this.selectedNode.NodeId}</td>\n        </tr>\n        <tr>\n          <th>A\xe7\u0131klama</th>\n          <td>${this.description}</td>\n        </tr>\n      </table>`,showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"Onayla",cancelButtonText:"Vazge\xe7"}).then(t=>{t.isConfirmed&&this.saveTransaction()}):this.messagerService.info("L\xfctfen "+("\u0130ADE"==this.transaction.TransactionType?"teslimat":"b\u0131rakma")+" noktas\u0131 se\xe7iniz"):this.messagerService.info("L\xfctfen istasyon se\xe7iniz")}saveTransaction(){""!=this.description&&(this.transaction.Description+=" Cevap: "+this.description),"\u0130ADE"==this.transaction.TransactionType?this.transaction.ToNode=this.selectedNode.NodeId:this.transaction.FromNode=this.selectedNode.NodeId,this.transactionService.start(this.transaction).subscribe(t=>{t.Success?(this.messagerService.simple(t.Message,"success"),this.selectedNode=void 0,this.selectedStationIndex=void 0,this.stations=void 0,this.product=void 0,this.description="",this.router.navigateByUrl("/pending-transactions")):this.messagerService.simple(t.Message,"error")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.a),e.Y36(S),e.Y36(b),e.Y36(g.gz),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-commit-transaction"]],decls:55,vars:11,consts:[[1,"content"],[1,"col-md-12"],[1,"x_panel"],[1,"x_content"],[1,"form-group","row"],[1,"col-form-label","col-md-3","col-sm-3","label-align"],[1,"col-md-6","col-sm-6"],[2,"text-align","left"],[2,"width","140px"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clearfix"],[3,"station","selectedNodeEmitter",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[3,"value"],[3,"station","selectedNodeEmitter"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"\u0130\u015flem Detaylar\u0131"),e.qZA(),e.TgZ(7,"div",6)(8,"table",7)(9,"tr")(10,"th",8),e._uU(11,"\xdcr\xfcn Grubu"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()(),e.TgZ(14,"tr")(15,"th"),e._uU(16,"Seri Numaras\u0131"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA()(),e.TgZ(19,"tr")(20,"th"),e._uU(21,"\xdcr\xfcn Ad\u0131"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA()(),e.TgZ(24,"tr")(25,"th"),e._uU(26,"\u0130\u015flem Tipi"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA()(),e.TgZ(29,"tr")(30,"th"),e._uU(31),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA()(),e.TgZ(34,"tr")(35,"th"),e._uU(36,"A\xe7\u0131klama"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA()()()()(),e.TgZ(39,"div",4)(40,"label",5),e._uU(41,"\u0130staston"),e.qZA(),e.TgZ(42,"div",6)(43,"select",9),e.NdJ("ngModelChange",function(r){return i.selectedStationIndex=r})("ngModelChange",function(){return i.clearStationNode()}),e.YNc(44,U,2,2,"option",10),e.qZA()()(),e.TgZ(45,"div",4)(46,"label",5),e._uU(47,"A\xe7\u0131klama"),e.qZA(),e.TgZ(48,"div",6)(49,"textarea",9),e.NdJ("ngModelChange",function(r){return i.description=r}),e._uU(50,"            "),e.qZA()()(),e._UZ(51,"div",11),e.YNc(52,A,1,1,"app-select-station",12),e.qZA(),e.TgZ(53,"button",13),e.NdJ("click",function(){return i.addTransaction()}),e._uU(54," Talebi Onayla "),e.qZA()()()()),2&t&&(e.xp6(13),e.Oqu(i.transaction.GroupCode),e.xp6(5),e.Oqu(i.transaction.SerialNumber),e.xp6(5),e.Oqu(i.transaction.ProductCode),e.xp6(5),e.Oqu(i.transaction.TransactionType),e.xp6(3),e.hij("","\u0130ADE"==i.transaction.TransactionType?"\u0130ade":"Talep"," Noktas\u0131"),e.xp6(2),e.Oqu("\u0130ADE"==i.transaction.TransactionType?i.transaction.FromNode:i.transaction.ToNode),e.xp6(5),e.Oqu(i.transaction.Description),e.xp6(5),e.Q6J("ngModel",i.selectedStationIndex),e.xp6(1),e.Q6J("ngForOf",i.stations),e.xp6(5),e.Q6J("ngModel",i.description),e.xp6(3),e.Q6J("ngIf",null!=i.stations[i.selectedStationIndex]))},directives:[l.EJ,l.JJ,l.On,h.sg,l.YN,l.Kr,l.Fj,h.O5,v],styles:[".content[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.form-control[_ngcontent-%COMP%]:not(textarea){height:36px!important}"]}),n})();function G(n,a){if(1&n&&(e.TgZ(0,"a",4)(1,"span",5),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){const t=a.index,i=e.oxw();e.Akn(i.getStyle(t)),e.Tol("list-item "+i.getClassValue(t)),e.xp6(2),e.Oqu(i.getLocation(t)),e.xp6(1),e.hij(" ",i.getName(t)," ")}}const O=function(){return[]};let I=(()=>{class n{constructor(){}ngOnInit(){}getStyle(t){var i,o;return Array.from(document.getElementsByClassName("layout-content"))[0].style.width=104*this.station.ColumnLen+"px",`--zindx: ${parseInt(""+t%this.station.ColumnLen)}; --zindy: ${[].constructor(null!==(o=null!==(i=this.station.ColumnLen)&&void 0!==i?i:0*this.station.RowLen)&&void 0!==o?o:0).length-parseInt(""+t/this.station.ColumnLen)}`}getName(t){let i=parseInt(""+t%this.station.ColumnLen),o=parseInt(""+t/this.station.ColumnLen),r="Bo\u015f";return this.station.StationNodes.filter(s=>s.ColPosition-1==i&&s.RowPosition-1==o).forEach(s=>{r=s.NodeId}),r}getClassValue(t){let i=parseInt(""+t%this.station.ColumnLen),o=parseInt(""+t/this.station.ColumnLen);return this.station.StationNodes.filter(s=>s.ColPosition-1==i&&s.RowPosition-1==o).length>0?"":" empty"}getLocation(t){return`Y-${parseInt(""+t%this.station.ColumnLen)+1}_D-${parseInt(""+t/this.station.ColumnLen)+1}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-station-design-viewer"]],inputs:{station:"station"},decls:4,vars:2,consts:[[1,"ground"],[1,"layout-content"],[1,"layout-row"],["data-box","item",3,"style","class",4,"ngFor","ngForOf"],["data-box","item"],[1,"item-title"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,G,4,6,"a",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",e.DdM(1,O).constructor(i.station.ColumnLen*i.station.RowLen)))},directives:[h.sg],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@1,800&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:wght@300;400&display=swap";*[_ngcontent-%COMP%]:root{--zindx: 0;--zindy: 0}.list-item[_ngcontent-%COMP%]{background:#343a40;color:#f1f1f1;text-align:center;height:5em;width:8em;vertical-align:middle;line-height:5em;border-bottom:1px solid #060606;position:relative;display:block;text-decoration:none;box-shadow:-4em 1.5em #e1e1e1;transition:all .25s linear;font-family:Roboto,sans-serif;font-weight:700}.list-item[_ngcontent-%COMP%]:not(.empty):hover{background:#ffc107;color:#343a40;transform:translate(1.8em,-1.8em);transition:all .25s linear;box-shadow:-4em 4em #e1e1e1}.list-item[_ngcontent-%COMP%]:not(.empty):hover:before, .list-item[_ngcontent-%COMP%]:not(.empty):hover:after, .list-item[_ngcontent-%COMP%]:not(.empty):focus:before, .list-item[_ngcontent-%COMP%]:not(.empty):focus:after{transition:all .25s linear}.list-item[_ngcontent-%COMP%]:not(.empty):focus:before, .list-item[_ngcontent-%COMP%]:not(.empty):hover:before{background:#ff9800;width:2em;top:1em;left:-2em}.list-item[_ngcontent-%COMP%]:not(.empty):focus:after, .list-item[_ngcontent-%COMP%]:not(.empty):hover:after{background:#ff9800;width:2em;bottom:-5em;left:2em;height:8em}.list-item[_ngcontent-%COMP%]:not(.empty).active{background:#ffc107;color:#343a40;transform:translate(1.8em,-1.8em);transition:all .25s linear;box-shadow:-4em 4em #e1e1e1}.list-item[_ngcontent-%COMP%]:not(.empty).active:before, .list-item[_ngcontent-%COMP%]:not(.empty).active:after{transition:all .25s linear}.list-item[_ngcontent-%COMP%]:not(.empty).active:before{background:#ff9800;width:2em;top:1em;left:-2em}.list-item[_ngcontent-%COMP%]:not(.empty).active:after{background:#ff9800;width:2em;bottom:-5em;left:2em;height:8em}.list-item[_ngcontent-%COMP%]:not(.empty):before, .list-item[_ngcontent-%COMP%]:not(.empty):after{content:"";position:absolute;transition:all .25s linear;width:1em}.list-item[_ngcontent-%COMP%]:not(.empty):after{height:8em;background:#141e28;bottom:-4.5em;left:3em;transform:rotate(90deg) skew(0,45deg)}.list-item[_ngcontent-%COMP%]:not(.empty):before{height:5em;background:#404951;top:.5em;left:-1em;transform:skewY(-45deg)}.layout-content[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.layout-way[_ngcontent-%COMP%]{height:5em;width:8em}.layout-way[_ngcontent-%COMP%]:before{position:absolute;content:"";width:5px;height:100%}.layout-content[_ngcontent-%COMP%] > .layout-row[_ngcontent-%COMP%]:not(:nth-child(1)){margin-bottom:-29px}.layout-content[_ngcontent-%COMP%] > .layout-row[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex;justify-content:left}.layout-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{z-index:calc(10000 - calc(100 * var(--zindy)) - var(--zindx))}.ground[_ngcontent-%COMP%]{position:relative;padding:50px;display:inline-block}.item-title[_ngcontent-%COMP%]{position:absolute;display:none;top:-120%;left:50%;width:104px;transform:translate(-50%);color:#fff;background-color:#0606066e;border-radius:3px;padding:0 30px;font-weight:400}.item-title[_ngcontent-%COMP%]:before{content:"";background-color:#0606066e;position:absolute;width:12px;height:12px;bottom:-12px;rotate:180deg;left:50%;transform:translate(50%);border-radius:3px;clip-path:polygon(50% 0%,0% 100%,100% 100%)}.list-item[_ngcontent-%COMP%]:hover > .item-title[_ngcontent-%COMP%], .list-item[_ngcontent-%COMP%]:focus > .item-title[_ngcontent-%COMP%]{display:inline}.list-item.empty[_ngcontent-%COMP%]:not(:hover):before, .list-item.empty[_ngcontent-%COMP%]:not(:hover):after{height:0em}.list-item.empty[_ngcontent-%COMP%]{background-color:#939393;box-shadow:-2em .5em #e1e1e1;transform:translate(-.3em,.3em);border-bottom:1px solid #848282;transition:all .25s linear}']}),n})();function k(n,a){if(1&n&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",a.index),e.xp6(1),e.Oqu(t.NodeId)}}function M(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",4),e._uU(2,"Yatay Pozisyon"),e.qZA(),e.TgZ(3,"div",5)(4,"input",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return r.station.StationNodes[r.selectedNodeIndex].ColPosition=o}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.station.StationNodes[t.selectedNodeIndex].ColPosition)("max",t.station.ColumnLen)}}function F(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",4),e._uU(2,"Dikey Pozisyon"),e.qZA(),e.TgZ(3,"div",5)(4,"input",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return r.station.StationNodes[r.selectedNodeIndex].RowPosition=o}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.station.StationNodes[t.selectedNodeIndex].RowPosition)("max",t.station.RowLen)}}let z=(()=>{class n{constructor(t,i,o,r){this.activatedRoute=t,this.router=i,this.stationService=o,this.messagerService=r,this.selectedNodeIndex=-1}ngOnInit(){this.activatedRoute.params.subscribe(t=>{null==t.id&&this.router.navigateByUrl("/"),this.id=t.id,this.getStation()})}getStation(){this.stationService.getById(this.id).subscribe(t=>{this.station=t.Data},t=>{console.log(t),this.messagerService.error("Hata","Bir hata ile kar\u015f\u0131la\u015f\u0131ld\u0131.")})}update(){this.stationService.update(this.station).subscribe(t=>{t.Success?this.messagerService.success("Ba\u015far\u0131l\u0131",t.Message):this.messagerService.error("Ba\u015far\u0131s\u0131z",t.Message)},t=>{console.log(t),this.messagerService.error("Hata","Bir hata ile kar\u015f\u0131la\u015f\u0131ld\u0131.")})}goBack(){this.router.navigateByUrl("/stations")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(g.F0),e.Y36(S),e.Y36(f.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-station-designer"]],decls:27,vars:7,consts:[[1,"content"],[1,"row"],[1,"col-4"],[1,"form-group","row"],[1,"col-form-label","col-md-3","col-sm-3","label-align"],[1,"col-md-6","col-sm-6"],["type","number","min","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","form-group row",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"col-8",2,"overflow","auto","padding-top","60px"],[3,"station"],[3,"value"],["type","number","min","-1",1,"form-control",3,"ngModel","max","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"Yatay H\xfccre Say\u0131s\u0131"),e.qZA(),e.TgZ(6,"div",5)(7,"input",6),e.NdJ("ngModelChange",function(r){return i.station.ColumnLen=r}),e.qZA()()(),e.TgZ(8,"div",3)(9,"label",4),e._uU(10,"Dikey H\xfccre Say\u0131s\u0131"),e.qZA(),e.TgZ(11,"div",5)(12,"input",6),e.NdJ("ngModelChange",function(r){return i.station.RowLen=r}),e.qZA()()(),e.TgZ(13,"div",3)(14,"label",4),e._uU(15,"Node Ad\u0131"),e.qZA(),e.TgZ(16,"div",5)(17,"select",7),e.NdJ("ngModelChange",function(r){return i.selectedNodeIndex=r}),e.YNc(18,k,2,2,"option",8),e.qZA()()(),e.YNc(19,M,5,2,"div",9),e.YNc(20,F,5,2,"div",9),e.TgZ(21,"button",10),e.NdJ("click",function(){return i.goBack()}),e._uU(22,"Geri D\xf6n"),e.qZA(),e.TgZ(23,"button",11),e.NdJ("click",function(){return i.update()}),e._uU(24,"G\xfcncelle"),e.qZA()(),e.TgZ(25,"div",12),e._UZ(26,"app-station-design-viewer",13),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",i.station.ColumnLen),e.xp6(5),e.Q6J("ngModel",i.station.RowLen),e.xp6(5),e.Q6J("ngModel",i.selectedNodeIndex),e.xp6(1),e.Q6J("ngForOf",null==i.station?null:i.station.StationNodes),e.xp6(1),e.Q6J("ngIf",i.selectedNodeIndex>-1),e.xp6(1),e.Q6J("ngIf",i.selectedNodeIndex>-1),e.xp6(6),e.Q6J("station",i.station))},directives:[l.qQ,l.wV,l.Fj,l.JJ,l.On,l.EJ,h.sg,l.YN,l.Kr,h.O5,l.Fd,I],styles:[".content[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.form-control[_ngcontent-%COMP%]{height:36px!important}"]}),n})(),L=(()=>{class n{constructor(t){this.httpClient=t,this.apiUrl=m.N.apiUrl}getGroups(){return this.httpClient.get(`${this.apiUrl}Sap/GetGroups`)}getAllByGroupName(t){return this.httpClient.get(`${this.apiUrl}Sap/getAllByGroupName/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P(n,a){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.Path),e.xp6(1),e.hij(" ",t.Name," ")}}function B(n,a){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.MATNR),e.xp6(1),e.hij(" ",t.MATNR+" -- "+t.MAKTX," ")}}function Z(n,a){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",a.index),e.xp6(1),e.hij(" ",t.Name," ")}}function D(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-select-station",18),e.NdJ("selectedNodeEmitter",function(o){return e.CHM(t),e.oxw().setSelectedStationNode(o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("station",t.stations[t.selectedStationIndex])}}let E=(()=>{class n{constructor(t,i,o,r){this.sapService=t,this.messagerService=i,this.stationService=o,this.transactionService=r,this.tabName="request",this.sapGroups=[],this.products=[],this.stations=[],this.description="",this.filterText=""}ngOnInit(){this.getGroups(),this.getStations()}getGroups(){this.sapService.getGroups().subscribe(t=>{this.sapGroups=t.Data},t=>this.messagerService.error(t))}getProducts(){this.sapService.getAllByGroupName(this.group).subscribe(t=>{this.products=t.Data},t=>this.messagerService.error(t))}getStations(){this.stationService.GetAllByLoginUser().subscribe(t=>{this.stations=t.Data.filter(i=>"\u0130ade Alma Noktas\u0131"==i.Type||"B\u0131rakma Noktas\u0131"==i.Type)},t=>this.messagerService.error(t))}setTab(t){this.tabName=t}setSelectedStationNode(t){this.selectedNode=t}getGroupName(){var t;return null===(t=this.sapGroups.find(i=>i.Path==this.group))||void 0===t?void 0:t.Name}getProductName(){var t;return null===(t=this.products.find(i=>i.MATNR==this.product))||void 0===t?void 0:t.MAKTX}clearStationNode(){this.selectedNode=void 0,console.log(this.selectedNode)}addTransaction(){null!=this.group?null!=this.product?null!=this.stations[this.selectedStationIndex]?null!=this.selectedNode?C().fire({title:"<strong>\u0130\u015flem Detaylar\u0131</strong>",icon:"info",html:`<table style="text-align:left">\n        <tr>\n          <th style="width:140px">\xdcr\xfcn Grubu</th>\n          <td>${this.getGroupName()}</td>\n        </tr>\n        <tr>\n          <th>\xdcr\xfcn Ad\u0131</th>\n          <td>${this.getProductName()}</td>\n        </tr>\n        <tr>\n          <th>\u0130\u015flem Tipi</th>\n          <td>${"B\u0131rakma Noktas\u0131"==this.stations[this.selectedStationIndex].Type?"Yeni Talep":"\u0130ade Talebi"}</td>\n        </tr>\n        <tr>\n          <th>${"B\u0131rakma Noktas\u0131"==this.stations[this.selectedStationIndex].Type?"Talep":"\u0130ade"} Noktas\u0131</th>\n          <td>${this.selectedNode.NodeId}</td>\n        </tr>\n        <tr>\n          <th>A\xe7\u0131klama</th>\n          <td>${this.description}</td>\n        </tr>\n      </table>`,showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:"Onayla",cancelButtonText:"Vazge\xe7"}).then(t=>{t.isConfirmed&&this.saveTransaction()}):this.messagerService.info("L\xfctfen "+("B\u0131rakma Noktas\u0131"==this.stations[this.selectedStationIndex].Type?"talep":"iade")+" noktas\u0131 se\xe7iniz"):this.messagerService.info("L\xfctfen istasyon se\xe7iniz"):this.messagerService.info("L\xfctfen \xfcr\xfcn se\xe7iniz"):this.messagerService.info("L\xfctfen \xfcr\xfcn grubu se\xe7iniz")}saveTransaction(){var t=Object.assign({TransactionType:"B\u0131rakma Noktas\u0131"==this.stations[this.selectedStationIndex].Type?"TALEP":"\u0130ADE",Description:this.description,FromNode:"B\u0131rakma Noktas\u0131"==this.stations[this.selectedStationIndex].Type?null:this.selectedNode.NodeId,ToNode:"B\u0131rakma Noktas\u0131"==this.stations[this.selectedStationIndex].Type?this.selectedNode.NodeId:null,LocationName:this.stations[this.selectedStationIndex].Name,GroupCode:this.getGroupName(),SerialNumber:this.products.find(i=>i.MATNR==this.product).MATNR,ProductCode:this.products.find(i=>i.MATNR==this.product).MAKTX,Status:"Pending"});this.transactionService.add(t).subscribe(i=>{i.Success?(this.messagerService.simple(i.Message,"success"),this.selectedNode=void 0,this.selectedStationIndex=void 0,this.stations=void 0,this.group=void 0,this.product=void 0,this.description="",window.location.reload()):this.messagerService.simple(i.Message,"error")})}getFilterProduct(){var t=this.products.filter(i=>i.MAKTX.toLowerCase().includes(this.filterText.toLowerCase())||i.MATNR.toLowerCase().includes(this.filterText.toLowerCase()));return console.log(t),t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L),e.Y36(f.a),e.Y36(S),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-transactionv2"]],decls:34,vars:9,consts:[[1,"content"],[1,"col-md-12"],[1,"x_panel"],[1,"x_content"],[1,"form-group","row"],[1,"col-form-label","col-md-3","col-sm-3","label-align"],[1,"col-md-6","col-sm-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","col-sm-6","filterable"],[1,"row","px-2"],["placeholder","\xdcr\xfcn Ara",1,"form-control","col",3,"ngModel","ngModelChange"],[1,"form-control","col",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"clearfix"],[3,"station","selectedNodeEmitter",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[3,"value"],[3,"station","selectedNodeEmitter"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"\xdcr\xfcn Grubu"),e.qZA(),e.TgZ(7,"div",6)(8,"select",7),e.NdJ("ngModelChange",function(r){return i.group=r})("change",function(){return i.getProducts()}),e.YNc(9,P,2,2,"option",8),e.qZA()()(),e.TgZ(10,"div",4)(11,"label",5),e._uU(12,"\xdcr\xfcn Ad\u0131"),e.qZA(),e.TgZ(13,"div",9)(14,"div",10)(15,"input",11),e.NdJ("ngModelChange",function(r){return i.filterText=r}),e.qZA(),e.TgZ(16,"select",12),e.NdJ("ngModelChange",function(r){return i.product=r}),e.YNc(17,B,2,2,"option",8),e.qZA()()()(),e.TgZ(18,"div",4)(19,"label",5),e._uU(20,"\u0130staston"),e.qZA(),e.TgZ(21,"div",6)(22,"select",13),e.NdJ("ngModelChange",function(r){return i.selectedStationIndex=r})("ngModelChange",function(){return i.clearStationNode()}),e.YNc(23,Z,2,2,"option",8),e.qZA()()(),e.TgZ(24,"div",4)(25,"label",5),e._uU(26,"A\xe7\u0131klama"),e.qZA(),e.TgZ(27,"div",6)(28,"textarea",13),e.NdJ("ngModelChange",function(r){return i.description=r}),e._uU(29,"            "),e.qZA()()(),e._UZ(30,"div",14),e.YNc(31,D,1,1,"app-select-station",15),e.qZA(),e.TgZ(32,"button",16),e.NdJ("click",function(){return i.addTransaction()}),e._uU(33,"Talep Olu\u015ftur"),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("ngModel",i.group),e.xp6(1),e.Q6J("ngForOf",i.sapGroups),e.xp6(6),e.Q6J("ngModel",i.filterText),e.xp6(1),e.Q6J("ngModel",i.product),e.xp6(1),e.Q6J("ngForOf",i.getFilterProduct()),e.xp6(5),e.Q6J("ngModel",i.selectedStationIndex),e.xp6(1),e.Q6J("ngForOf",i.stations),e.xp6(5),e.Q6J("ngModel",i.description),e.xp6(3),e.Q6J("ngIf",null!=i.stations[i.selectedStationIndex]))},directives:[l.EJ,l.JJ,l.On,h.sg,l.YN,l.Kr,l.Fj,h.O5,v],styles:[".content[_ngcontent-%COMP%]{height:calc(100vh - 60px)}.form-control[_ngcontent-%COMP%]:not(textarea){height:36px!important}"]}),n})(),q=(()=>{class n{constructor(t){this.messagerService=t,this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){var t=this;w2ui.VehicleLayout&&w2ui.VehicleLayout.destroy(),$().w2layout({name:"VehicleLayout",panels:[{layoutName:"VehicleLayout",type:"main",style:""}],pageId:[1]}),$("#VehicleLayout").w2render("VehicleLayout"),w2ui.VehicleGrid&&w2ui.VehicleGrid.destroy(),$().w2grid({base:!0,name:"VehicleGrid",layout:"VehicleLayout",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"BlueBotics/GetAllVehiclesForUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,columns:[{searchable:!0,text:"Ara\xe7 Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"Y\xfck varm\u0131?",field:"Isloaded",size:"100px"},{searchable:!0,text:"G\xf6rev No",field:"Missionid",size:"100px"},{searchable:!0,text:"\u0130\u015flem Durumu",field:"Operatingstate",size:"100px"},{searchable:!0,text:"Ba\u011flant\u0131 Durumu",field:"State.Connection",viewMask:"{0}",size:"120px"},{searchable:"datetime",text:"Tarih",field:"Timestamp",size:"120px"},{searchable:!0,text:"Batarya Durumu",field:"State.BatteryInfo",viewMask:"Batarya Durumu: {0}% - Voltaj: {1}V",size:"240px"}],toolbar:{items:[{id:1,text:"Cihaz\u0131 Ekle",type:"button",icon:"fa fa-plus"},{id:2,text:"Cihaz\u0131 \xc7\u0131kar",type:"button",icon:"fa fa-ban"}],onClick(i){var o=w2ui.VehicleGrid.getSelection();if(1==o.length){if(1==i.target){let r=w2ui.VehicleGrid.get(o[0]).Name;openPopup("Cihaz Ekle","InsertVehicleForm",o[0],{Name:r}),initializeOptionData("InsertVehicleForm","ChargerNode",t.apiUrl+"BlueBotics/GetAllChargerNodesByLoginUser","Name","Name")}else if(2==i.target){let r=w2ui.VehicleGrid.get(o[0]).Name;openPopup("Cihaz \xc7\u0131kar","ExtractVehicleForm",o[0],{Name:r})}}else t.messagerService.info("L\xfctfen 1 adet kay\u0131t se\xe7iniz.")}},menu:[]}),w2ui.VehicleLayout.html("main",w2ui.VehicleGrid),w2ui.InsertVehicleForm&&w2ui.InsertVehicleForm.destroy(),$().w2form({width:"600px",height:"400px",name:"InsertVehicleForm",autoSize:!0,fields:[{type:"text",field:"Name",required:!0,disabled:!0,html:{label:"Cihaz Ad\u0131"}},{type:"list",field:"ChargerNode",required:!0,html:{label:"Yerle\u015ftirme Noktas\u0131"},options:{items:[],openOnFocus:!0}}],method:"GET",url:{save:t.apiUrl+"BlueBotics/InsertNode"},onSave:function(i){t.messagerService.simple("Cihaz Eklendi"),w2popup.close(),w2ui.VehicleGrid.reload()},actions:{btnSave:{text:"Ekle",onClick(i){let o=w2ui.InsertVehicleForm.record;w2ui.InsertVehicleForm.url.save=`${t.apiUrl}BlueBotics/InsertNode/${o.Name}/${o.ChargerNode.id}`,w2ui.InsertVehicleForm.save()}}}}),w2ui.ExtractVehicleForm&&w2ui.ExtractVehicleForm.destroy(),$().w2form({width:"600px",height:"400px",name:"ExtractVehicleForm",autoSize:!0,fields:[{type:"text",field:"Name",required:!0,disabled:!0,html:{label:"Cihaz Ad\u0131"}}],method:"GET",url:{save:t.apiUrl+"BlueBotics/ExtractNode"},onSave:function(i){t.messagerService.simple("Cihaz \xe7\u0131kar\u0131ld\u0131"),w2popup.close(),w2ui.VehicleGrid.reload()},actions:{btnSave:{text:"Ekle",onClick(i){let o=w2ui.ExtractVehicleForm.record;w2ui.ExtractVehicleForm.url.save=`${t.apiUrl}BlueBotics/ExtractNode/${o.Name}`,w2ui.ExtractVehicleForm.save()}}}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vehicle"]],decls:1,vars:0,consts:[["id","VehicleLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})(),V=(()=>{class n{constructor(t){this.messagerService=t,this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){var t=this;w2ui.AddTransactionLayout&&w2ui.AddTransactionLayout.destroy(),$().w2layout({name:"AddTransactionLayout",panels:[{layoutName:"AddTransactionLayout",type:"main",style:""}],pageId:[1]}),$("#AddTransactionLayout").w2render("AddTransactionLayout"),w2ui.AddTransactionForm&&w2ui.AddTransactionForm.destroy(),$().w2form({width:"600px",height:"400px",name:"AddTransactionForm",header:"Talep Olu\u015ftur",autoSize:!0,tabs:[{id:"addTransaction",text:"Talep Olu\u015ftur"},{id:"returnTransaction",text:"\u0130ade Talebi Olu\u015ftur"}],fields:[{type:"list",field:"GroupCodeView",required:!0,html:{label:"Grup"},options:{items:[],openOnFocus:!0,match:"contain",markSearch:!0,filter:!0}},{type:"list",field:"ProductIdView",required:!0,html:{label:"\xdcr\xfcn"},options:{items:[],openOnFocus:!0,match:"contain",markSearch:!0,filter:!0}},{type:"text",field:"ProductCode",required:!0,disabled:!0,html:{label:"\xdcr\xfcn Kodu"}},{type:"list",field:"SerialNumberView",required:!1,hidden:!0,html:{label:"Seri Numaras\u0131"},options:{items:[],openOnFocus:!0,match:"contain",markSearch:!0,filter:!0}},{type:"text",field:"LocationName",required:!1,disabled:!0,hidden:!0,html:{label:"Lokasyon Ad\u0131"}},{type:"list",field:"ToNodeView",required:!0,html:{label:"Teslimat Noktas\u0131"},options:{items:[],openOnFocus:!0,match:"contain",markSearch:!0,filter:!0}},{type:"textarea",field:"Description",html:{label:"A\xe7\u0131klama"}}],url:{get:this.apiUrl+"Transactions/GetForUi",save:this.apiUrl+"Transactions/AddForUi"},onChange:function(i){var o,r,s,c,p;if("GroupCodeView"==i.target){var u=null===(o=i.value_new)||void 0===o?void 0:o.id;w2ui.AddTransactionForm.record.ProductCode=null,w2ui.AddTransactionForm.record.LocationName=null,w2ui.AddTransactionForm.lock(""),initializeOptionData("AddTransactionForm","ProductIdView",t.apiUrl+"Klimasan/GetProductsByGroupCode/"+u,"ProductId","\xdcr\xfcn Kodu: {ProductCode} - \xdcr\xfcn Ad\u0131: {ProductName}")}"ProductIdView"==i.target&&(u=null===(r=i.value_new)||void 0===r?void 0:r.id,w2ui.AddTransactionForm.record.ProductCode=null===(s=i.value_new)||void 0===s?void 0:s.obj.ProductCode,w2ui.AddTransactionForm.record.LocationName=null,w2ui.AddTransactionForm.lock(""),initializeOptionData("AddTransactionForm","SerialNumberView",t.apiUrl+"Klimasan/GetInventoriesByProductId/"+u,"SerialNumber","Seri Numaras\u0131: {SerialNumber} - Lokasyon Ad\u0131: {LocationName} - Adet:{UnitQuantity}"),initializeOptionData("AddTransactionForm","ToNodeView",t.apiUrl+"BlueBotics/GetAllDropNodesByLoginUser","Name","Name")),"SerialNumberView"==i.target&&(u=null===(c=i.value_new)||void 0===c?void 0:c.id,w2ui.AddTransactionForm.record.LocationName=null===(p=i.value_new)||void 0===p?void 0:p.obj.LocationName,w2ui.AddTransactionForm.lock(""),initializeOptionData("AddTransactionForm","ToNodeView",t.apiUrl+"BlueBotics/GetAllDropNodesByLoginUser","Name","Name"))},onSave:function(i){t.messagerService.success("Talep Olu\u015fturuldu")},actions:{btnSave:{text:"Ekle",onClick(i){w2ui.AddTransactionForm.save()}}}}),w2ui.AddTransactionForm.lock(""),initializeOptionData("AddTransactionForm","GroupCodeView",t.apiUrl+"Klimasan/GetAllGroupsByLoginUser","GroupCode","GroupCode"),w2ui.AddTransactionLayout.html("main",w2ui.AddTransactionForm)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-transaction"]],decls:1,vars:0,consts:[["id","AddTransactionLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})(),Y=(()=>{class n{constructor(t,i){this.messagerService=t,this.router=i,this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){var t=this;w2ui.PendingTransactionLayout&&w2ui.PendingTransactionLayout.destroy(),$().w2layout({name:"PendingTransactionLayout",panels:[{layoutName:"PendingTransactionLayout",type:"main",style:""}],pageId:[1]}),$("#PendingTransactionLayout").w2render("PendingTransactionLayout"),w2ui.PendingTransactionGrid&&w2ui.PendingTransactionGrid.destroy(),$().w2grid({base:!0,name:"PendingTransactionGrid",layout:"PendingTransactionLayout",panel:"main",show:{header:!0,footer:!0,toolbar:!0,selectColumn:!0},toolbar:{items:[{id:"start",type:"button",text:"\u0130\u015flemi Tamamla",icon:"fa fa-play"}],onClick(i){if("start"==i.target){var o=w2ui.PendingTransactionGrid.getSelection();if(1!=o.length)return void t.messagerService.error("L\xfctfen bir adet i\u015flem se\xe7iniz.");t.router.navigateByUrl(`/commit-transaction/${o[0]}`)}}},method:"GET",url:{get:this.apiUrl+"Transactions/GetAllPendingForUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:"enum",text:"Durum",field:"Status",size:"100px",options:{items:["Pending","Ready","End"],openOnFocus:!0}},{searchable:!0,text:"Al\u0131\u015f Adresi",field:"FromNode",size:"100px"},{searchable:!0,text:"Teslimat Adresi",field:"ToNode",size:"150px"},{searchable:"int",text:"\u0130\u015flem Numaras\u0131",field:"ProcessId",size:"100px"},{searchable:!0,text:"Grup Kodu",field:"GroupCode",size:"100px"},{searchable:!0,text:"\xdcr\xfcn Numaras\u0131",field:"ProductId",size:"100px"},{searchable:!0,text:"\xdcr\xfcn Kodu",field:"ProductCode",size:"100px"},{searchable:!0,text:"Seri Numaras\u0131",field:"SerialNumber",size:"200px"},{searchable:!0,text:"Lokasyon Ad\u0131",field:"LocationName",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"},{searchable:"datetime",text:"Ba\u015flang\u0131\xe7 Tarihi",field:"StartDate",size:"100px",options:{format:"yyyy.mm.dd | h24"}},{searchable:"datetime",text:"Biti\u015f Tarihi",field:"EndDate",size:"100px",options:{format:"yyyy.mm.dd | h24"}}]}),w2ui.PendingTransactionLayout.html("main",w2ui.PendingTransactionGrid),w2ui.StartTransactionForm&&w2ui.StartTransactionForm.destroy(),$().w2form({width:"600px",height:"400px",name:"StartTransactionForm",autoSize:!0,fields:[{type:"int",text:"Id",field:"Id",required:!0,disabled:!0},{type:"list",field:"FromNodeView",required:!0,html:{label:"Al\u0131\u015f Noktas\u0131"},options:{items:[],openOnFocus:!0}}],url:{get:this.apiUrl+"Transactions/GetForUi",save:this.apiUrl+"Transactions/StartForUi"},onSave:function(i){w2popup.close(),w2ui.PendingTransactionGrid.reload()},actions:{btnSave:{text:"Ba\u015flat",onClick(i){w2ui.StartTransactionForm.save()}}}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.a),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pending-transaction"]],decls:1,vars:0,consts:[["id","PendingTransactionLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})(),R=(()=>{class n{constructor(t){this.httpClient=t,this.apiUrl=m.N.apiUrl}cancelMission(t){return this.httpClient.get(`${this.apiUrl}BlueBotics/CancelMissionById/${t}`)}cancelMissions(){return this.httpClient.get(`${this.apiUrl}BlueBotics/CancelMissions`)}getAllDropNodesByLoginUser(){return this.httpClient.get(`${this.apiUrl}BlueBotics/GetAllDropNodesByLoginUser`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J=(()=>{class n{constructor(t,i){this.messagerService=t,this.blueBoticsService=i,this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){var t=this;w2ui.TransactionLayout&&w2ui.TransactionLayout.destroy(),$().w2layout({name:"TransactionLayout",panels:[{layoutName:"TransactionLayout",type:"main",style:""}],pageId:[1]}),$("#TransactionLayout").w2render("TransactionLayout"),w2ui.TransactionGrid&&w2ui.TransactionGrid.destroy(),$().w2grid({base:!0,name:"TransactionGrid",layout:"TransactionLayout",panel:"main",show:{header:!0,footer:!0,toolbar:!0},keyboard:!1,advanceOnEdit:!1,toolbar:{items:[{id:"viewLogs",type:"button",text:"Loglar\u0131 G\xf6ster",icon:"fa fa-eye"},{id:"bluebotics",type:"menu",text:"BlueBotics",icon:"fa fa-linode",items:[{text:"\u0130\u015flemi Getir",id:"get-mission"},{text:"\u0130\u015flemleri Getir",id:"get-missions"},{text:"\u0130\u015flemi \u0130ptal Et",id:"delete-mission"},{text:"\u0130\u015flemleri \u0130ptal Et",id:"delete-missions"}]}],onClick(i){if("viewLogs"==i.target){if(0==(o=w2ui.TransactionGrid.getSelection()).length)return void t.messagerService.error("L\xfctfen bir i\u015flem se\xe7iniz.");openPopupGrid("Log Kay\u0131tlar\u0131","LogGrid",{TransactionID:o[0]})}else if("bluebotics:get-mission"==i.target){if(0==(o=w2ui.TransactionGrid.getSelection()).length)return void t.messagerService.simple("L\xfctfen bir i\u015flem se\xe7iniz.","warning");let s=w2ui.TransactionGrid.get(o[0]);w2ui.GetMissionGrid.header=s.Id+" numaral\u0131 kay\u0131da ait i\u015flem detaylar\u0131",openPopupGrid("\u0130\u015flem Detaylar\u0131","GetMissionGrid",{TransactionID:o[0]})}else if("bluebotics:get-missions"==i.target)openPopupGrid("\u0130\u015flemler","GetMissionsGrid");else if("bluebotics:delete-mission"==i.target){var o;if(0==(o=w2ui.TransactionGrid.getSelection()).length)return void t.messagerService.simple("L\xfctfen bir i\u015flem se\xe7iniz.","warning");let s=w2ui.TransactionGrid.get(o[0]);t.cancelMission(s.ProcessId)}else"bluebotics:delete-missions"==i.target&&t.cancelMissions()}},method:"GET",url:{get:this.apiUrl+"Transactions/GetAllForUi",remove:this.apiUrl+"Transactions/SoftDeleteForUi"},autoLoad:!0,recid:"Id",columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:"enum",text:"\u0130\u015flem Tipi",field:"TransactionType",size:"100px",options:{items:["\u0130ADE","TALEP"],openOnFocus:!0}},{searchable:"enum",text:"Durum",field:"Status",size:"100px",options:{items:["Pending","Ready","End"],openOnFocus:!0}},{searchable:!0,text:"Al\u0131\u015f Adresi",field:"FromNode",size:"100px"},{searchable:!0,text:"Teslimat Adresi",field:"ToNode",size:"150px"},{searchable:"int",text:"\u0130\u015flem Numaras\u0131",field:"ProcessId",size:"100px"},{searchable:!0,text:"Grup Kodu",field:"GroupCode",size:"100px"},{searchable:!0,text:"\xdcr\xfcn Numaras\u0131",field:"ProductId",size:"100px"},{searchable:!0,text:"\xdcr\xfcn Kodu",field:"ProductCode",size:"100px"},{searchable:!0,text:"Seri Numaras\u0131",field:"SerialNumber",size:"200px"},{searchable:!0,text:"Lokasyon Ad\u0131",field:"LocationName",size:"100px"},{searchable:"datetime",text:"Ba\u015flang\u0131\xe7 Tarihi",field:"StartDate",size:"100px",options:{format:"yyyy.mm.dd | h24"}},{searchable:"datetime",text:"Biti\u015f Tarihi",field:"EndDate",size:"100px",options:{format:"yyyy.mm.dd | h24"}}]}),w2ui.TransactionLayout.html("main",w2ui.TransactionGrid),w2ui.LogGrid&&w2ui.LogGrid.destroy(),$().w2grid({base:!0,name:"LogGrid",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"Logs/GetAllByTransactionIdUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"Log Tipi",field:"Type",size:"100px"},{searchable:!0,text:"Log",field:"LogText",size:"100px"},{searchable:"datetime",text:"Olu\u015fturuldu\u011fu Tarih",field:"CreatedAt",size:"100px",options:{format:"yyyy.mm.dd | h24"}}]}),w2ui.GetMissionGrid&&w2ui.GetMissionGrid.destroy(),$().w2grid({name:"GetMissionGrid",method:"GET",url:{get:this.apiUrl+"Transactions/GetMissionByTransactionIdUi"},show:{header:!0,columnHeaders:!1},columns:[{field:"Name",size:"160px",style:"background-color: #efefef; border-bottom: 1px solid white; padding-right: 5px;",attr:"align=right"},{field:"Value",size:"100%"}]}),w2ui.GetMissionsGrid&&w2ui.GetMissionsGrid.destroy(),$().w2grid({base:!0,name:"GetMissionsGrid",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"BlueBotics/GetAllMissionsUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,columns:[{searchable:!0,text:"Id",field:"Missionid",size:"100px"},{searchable:!0,text:"Durum",field:"State",size:"100px"},{searchable:!0,text:"Navigasyon Durumu",field:"Navigationstate",size:"100px"},{searchable:!0,text:"Ta\u015f\u0131ma Durumu",field:"Transportstate",size:"100px"},{searchable:!0,text:"Al\u0131\u015f Adresi",field:"Fromnode",size:"100px"},{searchable:!0,text:"Teslimat Adresi",field:"Tonode",size:"100px"},{searchable:"toggle",text:"Y\xfck",field:"Payload",size:"100px"},{searchable:!0,text:"Y\xfck Varm\u0131?",field:"Isloaded",size:"100px"},{searchable:"int",text:"\xd6ncelik",field:"Priority",size:"100px"},{searchable:"int",text:"Cihaz",field:"Assignedto",size:"100px"},{searchable:"datetime",text:"Tahmini Biti\u015f Tarihi",field:"Deadline",size:"100px",options:{format:"yyyy.mm.dd | h24"}},{searchable:!0,text:"G\xf6rev Tipi",field:"Missiontype",size:"100px"},{searchable:!0,text:"Grup No",field:"Groupid",size:"100px"},{searchable:"toggle",text:"Bug\xfcn m\xfc?",field:"Istoday",size:"100px"},{searchable:"int",text:"G\xf6rev Durumu",field:"Schedulerstate",size:"100px"}]})}cancelMission(t){this.blueBoticsService.cancelMission(t).subscribe(i=>{0==i.RetCode?(w2ui.TransactionGrid.reload(),this.messagerService.simple("G\xf6rev iptal edildi")):this.messagerService.error("Hata",i.Error)},i=>{this.messagerService.error("Hata",i.error.Error)})}cancelMissions(){this.blueBoticsService.cancelMissions().subscribe(t=>{0==t.RetCode?(w2ui.TransactionGrid.reload(),this.messagerService.simple("G\xf6revler iptal edildi")):this.messagerService.error("Hata",t.Error)},t=>{this.messagerService.error("Hata",t.error.Error)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.a),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-transaction"]],decls:1,vars:0,consts:[["id","TransactionLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})(),Q=(()=>{class n{constructor(t,i){this.messagerService=t,this.router=i,this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){var t=this;w2ui.StationLayout&&w2ui.StationLayout.destroy(),$().w2layout({name:"StationLayout",panels:[{layoutName:"StationLayout",type:"main",style:""}],pageId:[1]}),$("#StationLayout").w2render("StationLayout"),w2ui.StationGrid&&w2ui.StationGrid.destroy(),$().w2grid({base:!0,name:"StationGrid",layout:"StationLayout",panel:"main",show:{header:!0,footer:!0,toolbar:!0,toolbarAdd:!0,toolbarEdit:!0,toolbarDelete:!0},method:"GET",url:{get:this.apiUrl+"Stations/GetAllForUi",remove:this.apiUrl+"Stations/SoftDeleteForUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,toolbar:{items:[{id:"designer",type:"button",text:"Tasar\u0131m D\xfczenle",icon:"fa fa-paint-brush"}],onClick(i){if("designer"==i.target){var o=w2ui.StationGrid.getSelection();if(1!=o.length)return void t.messagerService.error("L\xfctfen bir adet istasyon se\xe7iniz.");t.router.navigateByUrl(`station-designer/${o[0]}`)}}},columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130stasyon Ad\u0131",field:"Name",size:"100px"},{searchable:"enum",text:"\u0130stasyon Tipi",field:"Type",size:"100px",options:{items:["Yerle\u015ftirme Noktas\u0131","Alma Noktas\u0131","B\u0131rakma Noktas\u0131","\u0130ade Alma Noktas\u0131","\u0130ade Teslim Noktas\u0131"],openOnFocus:!0}}],onAdd:function(){openPopup("\u0130stasyon Ekle","AddStationForm"),initializeOptionData("AddStationForm","GroupCodes",t.apiUrl+"Sap/GetGroups","Path","Name"),initializeOptionData("AddStationForm","Nodes",t.apiUrl+"BlueBotics/GetNodes","Name","Name")},onEdit:function(i){var o=w2ui.StationGrid.getSelection();0!=o.length&&(openPopup("\u0130stasyon G\xfcncelle","UpdateStationForm",o[0],{}),initializeOptionData("UpdateStationForm","GroupCodes",t.apiUrl+"Sap/GetGroups","Path","Name"),initializeOptionData("UpdateStationForm","Nodes",t.apiUrl+"BlueBotics/GetNodes","Name","Name"))}}),w2ui.StationLayout.html("main",w2ui.StationGrid),w2ui.AddStationForm&&w2ui.AddStationForm.destroy(),$().w2form({width:"600px",height:"400px",name:"AddStationForm",autoSize:!0,fields:[{type:"text",field:"Name",required:!0,disabled:!1,html:{label:"\u0130stasyon Ad\u0131"}},{type:"list",field:"TypeView",required:!0,html:{label:"\u0130stasyon Tipi"},options:{items:["Yerle\u015ftirme Noktas\u0131","Alma Noktas\u0131","B\u0131rakma Noktas\u0131","\u0130ade Alma Noktas\u0131","\u0130ade Teslim Noktas\u0131"],openOnFocus:!0}},{type:"enum",field:"GroupCodes",html:{label:"Grup Se\xe7iniz"},options:{items:[],openOnFocus:!0}},{type:"enum",field:"Nodes",html:{label:"Node Se\xe7iniz"},options:{items:[],openOnFocus:!0}}],url:{get:this.apiUrl+"Stations/GetForUi",save:this.apiUrl+"Stations/AddForUi"},onSave:function(i){w2popup.close(),w2ui.StationGrid.reload()},actions:{btnSave:{text:"Ekle",onClick(i){w2ui.AddStationForm.save()}}}}),w2ui.UpdateStationForm&&w2ui.UpdateStationForm.destroy(),$().w2form({width:"600px",height:"400px",name:"UpdateStationForm",autoSize:!0,fields:[{type:"int",text:"Id",field:"Id",required:!0,disabled:!0},{type:"text",field:"Name",required:!0,disabled:!1,html:{label:"\u0130stasyon Ad\u0131"}},{type:"list",field:"TypeView",required:!0,html:{label:"\u0130stasyon Tipi"},options:{items:["Yerle\u015ftirme Noktas\u0131","Alma Noktas\u0131","B\u0131rakma Noktas\u0131","\u0130ade Alma Noktas\u0131","\u0130ade Teslim Noktas\u0131"],openOnFocus:!0}},{type:"enum",field:"GroupCodes",html:{label:"Grup Se\xe7iniz"},options:{items:[],openOnFocus:!0}},{type:"enum",field:"Nodes",html:{label:"Node Se\xe7iniz"},options:{items:[],openOnFocus:!0}}],url:{get:this.apiUrl+"Stations/GetForUi",save:this.apiUrl+"Stations/UpdateForUi"},onSave:function(i){w2popup.close(),w2ui.StationGrid.reload()},actions:{btnSave:{text:"G\xfcncelle",onClick(i){w2ui.UpdateStationForm.save()}}}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.a),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-station"]],decls:1,vars:0,consts:[["id","StationLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})(),K=(()=>{class n{constructor(){this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){w2ui.OperationClaimLayout&&w2ui.OperationClaimLayout.destroy(),$().w2layout({name:"OperationClaimLayout",panels:[{layoutName:"OperationClaimLayout",type:"main",style:""}],pageId:[1]}),$("#OperationClaimLayout").w2render("OperationClaimLayout"),w2ui.OperationClaimGrid&&w2ui.OperationClaimGrid.destroy(),$().w2grid({base:!0,name:"OperationClaimGrid",layout:"OperationClaimLayout",panel:"main",show:{header:!0,footer:!0,toolbar:!0,toolbarEdit:!0},method:"GET",url:{get:this.apiUrl+"OperationClaims/GetAllForUi",remove:this.apiUrl+"OperationClaims/SoftDeleteForUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],onAdd:function(){openPopup("\u0130\u015flem Ekle","AddOperationClaimForm")},onEdit:function(t){var i=w2ui.OperationClaimGrid.getSelection();0!=i.length&&openPopup("\u0130\u015flem G\xfcncelle","UpdateOperationClaimForm",i[0],{})}}),w2ui.OperationClaimLayout.html("main",w2ui.OperationClaimGrid),w2ui.UpdateOperationClaimForm&&w2ui.UpdateOperationClaimForm.destroy(),$().w2form({width:"600px",height:"400px",name:"UpdateOperationClaimForm",autoSize:!0,fields:[{type:"int",text:"Id",field:"Id",required:!0,disabled:!0},{type:"text",field:"Name",required:!0,disabled:!0,html:{label:"\u0130\u015flem Ad\u0131"}},{type:"textarea",field:"Description",disabled:!1,html:{label:"A\xe7\u0131klama"}}],url:{get:this.apiUrl+"OperationClaims/GetForUi",save:this.apiUrl+"OperationClaims/UpdateForUi"},onSave:function(t){w2popup.close(),w2ui.OperationClaimGrid.reload()},actions:{btnSave:{text:"G\xfcncelle",onClick(t){w2ui.UpdateOperationClaimForm.save()}}}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-operation-claim"]],decls:1,vars:0,consts:[["id","OperationClaimLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})(),H=(()=>{class n{constructor(){this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){w2ui.UserLayout&&w2ui.UserLayout.destroy(),$().w2layout({name:"UserLayout",panels:[{layoutName:"UserLayout",type:"main",style:""}],pageId:[1]}),$("#UserLayout").w2render("UserLayout"),w2ui.UserGrid&&w2ui.UserGrid.destroy(),$().w2grid({base:!0,name:"UserGrid",layout:"UserLayout",panel:"main",show:{header:!0,footer:!0,toolbar:!0,toolbarAdd:!0,toolbarEdit:!0,toolbarDelete:!0},method:"GET",url:{get:this.apiUrl+"Users/GetAllForUi",remove:this.apiUrl+"Users/SoftDeleteForUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:"enum",text:"Tipi",field:"Type",size:"100px",options:{items:["Admin","User"],openOnFocus:!0}},{searchable:!0,text:"Kullan\u0131c\u0131 Ad\u0131",field:"UserName",size:"100px"},{searchable:!0,text:"Ad\u0131",field:"FirstName",size:"100px"},{searchable:!0,text:"Soyad\u0131",field:"LastName",size:"100px"},{searchable:!0,text:"Durum",field:"Status",size:"100px"},{searchable:!0,text:"Engellendi mi?",field:"Banned",size:"100px"},{searchable:!0,text:"Engellenme Sebebi",field:"BannedMsg",size:"100px"}],menu:[{id:1,text:"Yetkilerini D\xfczenle",icon:"fa fa-snowflake-o"},{id:2,text:"\u0130\u015flem Yetkilerini D\xfczenle",icon:"fa fa-asterisk"},{id:3,text:"\u0130stasyonlar\u0131 D\xfczenle",icon:"fa fa-superpowers"}],onAdd:function(){openPopup("Ki\u015fi Ekle","AddUserForm")},onEdit:function(t){var i=w2ui.UserGrid.getSelection();0!=i.length&&openPopup("Ki\u015fi G\xfcncelle","UpdateUserForm",i[0],{})},onMenuClick:function(t){"menuClick"==t.type&&1==t.menuItem.id?openSelectedPopupGrid("Yetkilerini Se\xe7","AuthorityUnSelectedGrid","AuthoritySelectedGrid",{UserId:t.recid}):"menuClick"==t.type&&2==t.menuItem.id?openSelectedPopupGrid("\u0130\u015flem Yetkilerini Se\xe7","OperationClaimUnSelectedGrid","OperationClaimSelectedGrid",{UserId:t.recid}):"menuClick"==t.type&&3==t.menuItem.id&&openSelectedPopupGrid("\u0130stasyonlar\u0131 Se\xe7","StationUnSelectedGrid","StationSelectedGrid",{UserId:t.recid})}}),w2ui.UserLayout.html("main",w2ui.UserGrid),w2ui.AddUserForm&&w2ui.AddUserForm.destroy(),$().w2form({width:"600px",height:"400px",name:"AddUserForm",autoSize:!0,fields:[{type:"list",field:"TypeView",required:!0,html:{label:"Kullan\u0131c\u0131 Tipi"},options:{items:["Admin","User"],openOnFocus:!0}},{type:"text",field:"UserName",required:!0,disabled:!1,html:{label:"Kullan\u0131c\u0131 Ad\u0131"}},{type:"password",field:"Password",required:!0,disabled:!1,html:{label:"\u015eifre"}},{type:"text",field:"FirstName",disabled:!1,html:{label:"Ad\u0131"}},{type:"text",field:"LastName",disabled:!1,html:{label:"Soyad\u0131"}},{type:"toggle",field:"Status",disabled:!1,html:{label:"Durum"}},{type:"toggle",field:"Banned",disabled:!1,html:{label:"Engellendi mi?"}},{type:"textarea",field:"BannedMsg",disabled:!1,html:{label:"Engellenme Sebebi"}}],url:{get:this.apiUrl+"Users/GetForUi",save:this.apiUrl+"Users/AddForUi"},onSave:function(t){w2popup.close(),w2ui.UserGrid.reload()},actions:{btnSave:{text:"Ekle",onClick(t){w2ui.AddUserForm.save()}}}}),w2ui.UpdateUserForm&&w2ui.UpdateUserForm.destroy(),$().w2form({width:"600px",height:"400px",name:"UpdateUserForm",autoSize:!0,fields:[{type:"int",text:"Id",field:"Id",required:!0,disabled:!0},{type:"list",field:"TypeView",required:!0,html:{label:"Kullan\u0131c\u0131 Tipi"},options:{items:["Admin","User"],openOnFocus:!0}},{type:"text",field:"UserName",required:!0,disabled:!0,html:{label:"Kullan\u0131c\u0131 Ad\u0131"}},{type:"password",field:"Password",disabled:!1,html:{label:"\u015eifre"}},{type:"text",field:"FirstName",disabled:!1,html:{label:"Ad\u0131"}},{type:"text",field:"LastName",disabled:!1,html:{label:"Soyad\u0131"}},{type:"toggle",field:"Status",disabled:!1,html:{label:"Durum"}},{type:"toggle",field:"Banned",disabled:!1,html:{label:"Engellendi mi?"}},{type:"textarea",field:"BannedMsg",disabled:!1,html:{label:"Engellenme Sebebi"}}],url:{get:this.apiUrl+"Users/GetForUi",save:this.apiUrl+"Users/UpdateForUi"},onSave:function(t){w2popup.close(),w2ui.UserGrid.reload()},actions:{btnSave:{text:"G\xfcncelle",onClick(t){w2ui.UpdateUserForm.save()}}}}),w2ui.OperationClaimUnSelectedGrid&&w2ui.OperationClaimUnSelectedGrid.destroy(),$().w2grid({base:!0,name:"OperationClaimUnSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"OperationClaims/GetAllUnSelectedByUserIdUi"},header:"\u0130\xe7ermeyen Listesi",autoLoad:!1,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"OperationClaimUnSelectedGrid",id:1,text:"G\xf6nder",icon:"fa fa-arrow-right"}],limit:100,onMenuClick:function(t){"menuClick"==t.type&&1==t.menuItem.id&&this.transferSelectedRecords("OperationClaimSelectedGrid")},onDblClick:function(t){this.transferSelectedRecords("OperationClaimSelectedGrid")}}),w2ui.OperationClaimSelectedGrid&&w2ui.OperationClaimSelectedGrid.destroy(),$().w2grid({name:"OperationClaimSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"OperationClaims/GetAllSelectedByUserIdUi",save:this.apiUrl+"OperationClaims/SaveSelectedByUserIdUi"},header:"\u0130\xe7eren Listesi",width:"100%",height:"400px",recid:"Id",columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"OperationClaimSelectedGrid",id:1,text:"Geri G\xf6nder",icon:"fa fa-arrow-left"},{gridName:"OperationClaimSelectedGrid",id:2,text:"Kaydet",icon:"fa fa-save"}],onMenuClick:function(t){"menuClick"==t.type&&1==t.menuItem.id?this.transferSelectedRecords("OperationClaimUnSelectedGrid"):"menuClick"==t.type&&2==t.menuItem.id&&this.transferSave()},onDblClick:function(t){this.transferSelectedRecords("OperationClaimUnSelectedGrid")}}),w2ui.AuthorityUnSelectedGrid&&w2ui.AuthorityUnSelectedGrid.destroy(),$().w2grid({base:!0,name:"AuthorityUnSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"Authorities/GetAllUnSelectedByUserIdUi"},header:"\u0130\xe7ermeyen Listesi",autoLoad:!1,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"AuthorityUnSelectedGrid",id:1,text:"G\xf6nder",icon:"fa fa-arrow-right"}],limit:100,onMenuClick:function(t){"menuClick"==t.type&&1==t.menuItem.id&&this.transferSelectedRecords("AuthoritySelectedGrid")},onDblClick:function(t){this.transferSelectedRecords("AuthoritySelectedGrid")}}),w2ui.AuthoritySelectedGrid&&w2ui.AuthoritySelectedGrid.destroy(),$().w2grid({name:"AuthoritySelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"Authorities/GetAllSelectedByUserIdUi",save:this.apiUrl+"Authorities/SaveSelectedByUserIdUi"},header:"\u0130\xe7eren Listesi",width:"100%",height:"400px",recid:"Id",columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"AuthoritySelectedGrid",id:1,text:"Geri G\xf6nder",icon:"fa fa-arrow-left"},{gridName:"AuthoritySelectedGrid",id:2,text:"Kaydet",icon:"fa fa-save"}],onMenuClick:function(t){"menuClick"==t.type&&1==t.menuItem.id?this.transferSelectedRecords("AuthorityUnSelectedGrid"):"menuClick"==t.type&&2==t.menuItem.id&&this.transferSave()},onDblClick:function(t){this.transferSelectedRecords("AuthorityUnSelectedGrid")}}),w2ui.StationUnSelectedGrid&&w2ui.StationUnSelectedGrid.destroy(),$().w2grid({base:!0,name:"StationUnSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"Stations/GetAllUnSelectedByUserIdUi"},header:"\u0130\xe7ermeyen Listesi",autoLoad:!1,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"StationUnSelectedGrid",id:1,text:"G\xf6nder",icon:"fa fa-arrow-right"}],limit:100,onMenuClick:function(t){"menuClick"==t.type&&1==t.menuItem.id&&this.transferSelectedRecords("StationSelectedGrid")},onDblClick:function(t){this.transferSelectedRecords("StationSelectedGrid")}}),w2ui.StationSelectedGrid&&w2ui.StationSelectedGrid.destroy(),$().w2grid({name:"StationSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"Stations/GetAllSelectedByUserIdUi",save:this.apiUrl+"Stations/SaveSelectedByUserIdUi"},header:"\u0130\xe7eren Listesi",width:"100%",height:"400px",recid:"Id",columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"StationSelectedGrid",id:1,text:"Geri G\xf6nder",icon:"fa fa-arrow-left"},{gridName:"StationSelectedGrid",id:2,text:"Kaydet",icon:"fa fa-save"}],onMenuClick:function(t){"menuClick"==t.type&&1==t.menuItem.id?this.transferSelectedRecords("StationUnSelectedGrid"):"menuClick"==t.type&&2==t.menuItem.id&&this.transferSave()},onDblClick:function(t){this.transferSelectedRecords("StationUnSelectedGrid")}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],decls:1,vars:0,consts:[["id","UserLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})(),j=(()=>{class n{constructor(t){this.messagerService=t,this.apiUrl=m.N.apiUrl}ngOnInit(){this.initializeScript()}initializeScript(){var t=this;w2ui.AuthorityLayout&&w2ui.AuthorityLayout.destroy(),$().w2layout({name:"AuthorityLayout",panels:[{layoutName:"AuthorityLayout",type:"main",style:""}],pageId:[1]}),$("#AuthorityLayout").w2render("AuthorityLayout"),w2ui.AuthorityGrid&&w2ui.AuthorityGrid.destroy(),$().w2grid({base:!0,name:"AuthorityGrid",layout:"AuthorityLayout",panel:"main",show:{header:!0,footer:!0,toolbar:!0,toolbarAdd:!0,toolbarEdit:!0,toolbarDelete:!0},method:"GET",url:{get:this.apiUrl+"authorities/GetAllForUi",remove:this.apiUrl+"authorities/SoftDeleteForUi"},autoLoad:!0,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"Yetki Ad\u0131",field:"Name",size:"100px"}],toolbar:{items:[{id:"editClaim",type:"button",text:"\u0130\u015flem Yetkilerini D\xfczenle",icon:"fa fa-star"},{id:"editStation",type:"button",text:"\u0130stasyonlar\u0131 D\xfczenle",icon:"fa fa-superpowers"}],onClick(i){var o=w2ui.AuthorityGrid.getSelection();1==o.length?"editClaim"==i.target?openSelectedPopupGrid("\u0130\u015flem Yetkilerini Se\xe7","OperationClaimUnSelectedGrid","OperationClaimSelectedGrid",{AuthorityId:o[0]}):"editStation"==i.target&&openSelectedPopupGrid("\u0130stasyonlar\u0131 Se\xe7","StationUnSelectedGrid","StationSelectedGrid",{AuthorityId:o[0]}):t.messagerService.info("L\xfctfen 1 adet kay\u0131t se\xe7iniz.")}},onAdd:function(){openPopup("Yetki Ekle","AddAuthorityForm")},onEdit:function(i){var o=w2ui.AuthorityGrid.getSelection();0!=o.length&&openPopup("Yetki G\xfcncelle","UpdateAuthorityForm",o[0],{})}}),w2ui.AuthorityLayout.html("main",w2ui.AuthorityGrid),w2ui.AddAuthorityForm&&w2ui.AddAuthorityForm.destroy(),$().w2form({width:"600px",height:"400px",name:"AddAuthorityForm",autoSize:!0,fields:[{type:"text",field:"Name",required:!0,disabled:!1,html:{label:"Yetki Ad\u0131"}}],url:{get:this.apiUrl+"authorities/GetForUi",save:this.apiUrl+"authorities/AddForUi"},onSave:function(i){w2popup.close(),w2ui.AuthorityGrid.reload()},actions:{btnSave:{text:"Ekle",onClick(i){w2ui.AddAuthorityForm.save()}}}}),w2ui.UpdateAuthorityForm&&w2ui.UpdateAuthorityForm.destroy(),$().w2form({width:"600px",height:"400px",name:"UpdateAuthorityForm",autoSize:!0,fields:[{type:"text",formName:"UpdateAuthorityForm",field:"Id",required:!0,disabled:!0},{type:"text",field:"Name",required:!0,html:{label:"Yetki Ad\u0131"}}],url:{get:this.apiUrl+"authorities/GetForUi",save:this.apiUrl+"authorities/UpdateForUi"},onSave:function(i){w2popup.close(),w2ui.AuthorityGrid.reload()},actions:{btnSave:{text:"G\xfcncelle",onClick(i){w2ui.UpdateAuthorityForm.save()}}}}),w2ui.OperationClaimUnSelectedGrid&&w2ui.OperationClaimUnSelectedGrid.destroy(),$().w2grid({base:!0,name:"OperationClaimUnSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"OperationClaims/GetAllUnSelectedByAuthorityIdUi"},header:"\u0130\xe7ermeyen Listesi",autoLoad:!1,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"OperationClaimUnSelectedGrid",id:1,text:"G\xf6nder",icon:"fa fa-arrow-right"}],limit:100,onMenuClick:function(i){"menuClick"==i.type&&1==i.menuItem.id&&this.transferSelectedRecords("OperationClaimSelectedGrid")},onDblClick:function(i){this.transferSelectedRecords("OperationClaimSelectedGrid")}}),w2ui.OperationClaimSelectedGrid&&w2ui.OperationClaimSelectedGrid.destroy(),$().w2grid({name:"OperationClaimSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"OperationClaims/GetAllSelectedByAuthorityIdUi",save:this.apiUrl+"OperationClaims/SaveSelectedByAuthorityIdUi"},header:"\u0130\xe7eren Listesi",width:"100%",height:"400px",recid:"Id",columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"OperationClaimSelectedGrid",id:1,text:"Geri G\xf6nder",icon:"fa fa-arrow-left"},{gridName:"OperationClaimSelectedGrid",id:2,text:"Kaydet",icon:"fa fa-save"}],onMenuClick:function(i){"menuClick"==i.type&&1==i.menuItem.id?this.transferSelectedRecords("OperationClaimUnSelectedGrid"):"menuClick"==i.type&&2==i.menuItem.id&&this.transferSave()},onDblClick:function(i){this.transferSelectedRecords("OperationClaimUnSelectedGrid")}}),w2ui.StationUnSelectedGrid&&w2ui.StationUnSelectedGrid.destroy(),$().w2grid({base:!0,name:"StationUnSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"Stations/GetAllUnSelectedByAuthorityIdUi"},header:"\u0130\xe7ermeyen Listesi",autoLoad:!1,recid:"Id",advanceOnEdit:!0,columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"StationUnSelectedGrid",id:1,text:"G\xf6nder",icon:"fa fa-arrow-right"}],limit:100,onMenuClick:function(i){"menuClick"==i.type&&1==i.menuItem.id&&this.transferSelectedRecords("StationSelectedGrid")},onDblClick:function(i){this.transferSelectedRecords("StationSelectedGrid")}}),w2ui.StationSelectedGrid&&w2ui.StationSelectedGrid.destroy(),$().w2grid({name:"StationSelectedGrid",panel:"main",show:{header:!0,footer:!0,toolbar:!0},method:"GET",url:{get:this.apiUrl+"Stations/GetAllSelectedByAuthorityIdUi",save:this.apiUrl+"Stations/SaveSelectedByAuthorityIdUi"},header:"\u0130\xe7eren Listesi",width:"100%",height:"400px",recid:"Id",columns:[{searchable:"int",text:"Id",field:"Id",size:"100px"},{searchable:!0,text:"\u0130\u015flem Ad\u0131",field:"Name",size:"100px"},{searchable:!0,text:"A\xe7\u0131klama",field:"Description",size:"100px"}],fixedBody:!0,dataType:null,httpHeaders:{},menu:[{gridName:"StationSelectedGrid",id:1,text:"Geri G\xf6nder",icon:"fa fa-arrow-left"},{gridName:"StationSelectedGrid",id:2,text:"Kaydet",icon:"fa fa-save"}],onMenuClick:function(i){"menuClick"==i.type&&1==i.menuItem.id?this.transferSelectedRecords("StationUnSelectedGrid"):"menuClick"==i.type&&2==i.menuItem.id&&this.transferSave()},onDblClick:function(i){this.transferSelectedRecords("StationUnSelectedGrid")}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-authority"]],decls:1,vars:0,consts:[["id","AuthorityLayout",2,"width","100%","height","calc(100vh - 104px)"]],template:function(t,i){1&t&&e._UZ(0,"div",0)},styles:[""]}),n})();var X=d(4476),W=d(8441);const ee=[{path:"",component:(()=>{class n{constructor(t,i,o){this.layoutService=t,this.ngxLoaderService=i,this.router=o}ngOnInit(){this.ngxLoaderService.stop()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.P),e.Y36(W.LA),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[[2,"height","calc(100vh - 104px)","width","100%","display","flex","align-items","center","justify-content","center","flex-direction","column"],[1,"row"],[1,"display-1",2,"color","rgba(0, 0, 0, 0.545)","font-weight","bolder"],[1,"display-2",2,"color","rgba(0, 0, 0, 0.545)","font-weight","bolder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"ZGN OTONOM"),e.qZA()(),e.TgZ(4,"div",1)(5,"label",3),e._uU(6,"ROBOT\u0130K"),e.qZA()()())},styles:[""]}),n})()},{path:"authorities",component:j},{path:"operation-claims",component:K},{path:"users",component:H},{path:"stations",component:Q},{path:"vehicles",component:q},{path:"transactions",component:J},{path:"pending-transactions",component:Y},{path:"station-designer/:id",component:z},{path:"add-transaction",component:E},{path:"add-transaction-v1",component:V},{path:"commit-transaction/:id",component:N}];let te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(ee)],g.Bz]}),n})(),ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.ez,te,l.u5,l.UX]]}),n})()}}]);